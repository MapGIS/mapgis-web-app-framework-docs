## 写在前面

MapGIS Web App Framework 是一个 WebGIS 应用的的解决方案，它基于 [vue](https://github.com/vuejs/vue), [typescript](https://www.typescriptlang.org/), [ant-design-vue](https://github.com/vueComponent/ant-design-vue)和[MapGIS Client for JavaScript](https://github.com/MapGIS/WebClient-JavaScript)实现。

MapGIS Web App Framework 使用了最新的前端技术栈，提供了基于微件技术的应用框架和丰富的地图功能组件，它可以帮助你快速搭建 WebGIS 应用。

<img :src="$withBase('/images/product-framework-diagram.png')" alt="MapGIS-Web-App-Framework产品架构图">

## 功能

```txt
- 框架组件
  - 应用加载器(mp-app-loader)
  - 应用搭建器(mp-app-builder)
  - 地图容器(mp-map-container)
  - 微件指示器(map-widget-indicator)
    - 微件按钮(mp-map-widget-button)
  - 地图面板(map-panel)
    - 地图面板(mp-map-widget-panel)
    - 内容面板(mp-content-widget-panel)
  - 窗口容器(mp-window-wrapper)
  - 展示面板(mp-exhibition-panel)
- 应用管理(managers)
  - 配置加载(app-manager)
  - 微件管理(widget-manager)
- 混入(mixins)
  - 应用混入(app-mixin)
  - 主题混入(theme-mixin)
  - 主题区域混入(theme-content-mixin)
  - 面板混入(panel-mixin)
  - 微件信息混入(widget-info-mixin)
  - 微件混入(widget-mixin)
  - 地图混入(map-mixin)
  - 展示面板混入(exhibition-mixin)
  - 展示面板控制器混入(exhibition-controller-mixin)
- 工具(utils)
  - 微件状态(widget-state)
  - 地图渲染(map-render)

- 模型
  - 对象(objects)
    - 角度转换(AngleConvert)
    - 投影变换(ProjectionTransformation)
    - 范围(Bound)
    - 几何(GeometryExp)
    - 场景控制器(SceneController)
  - 文档(document)
    - 地图文档对象(Document)
    - 地图对象(Map)
    - 图层(layer)
      - 图层(layer)
        - 图层(Layer)
        - 图层类型(LayerType)
        - 图层加载状态(LoadStatus)
        - 图层渲染类型(RenderType)
      - 瓦片图层(tile-layer)
        - 瓦片图层(TileLayer)
        - 瓦片级别信息(LOD)
        - 瓦片切片信息(TileInfo)
      - 地图服务图层(map-image-layer)
        - 地图服务图层(MapImageLayer)
        - 子图层(Sublayer)
      - IGS瓦片服务图层(IGSTileLayer)
      - IGS地图服务图层(igs-map-image-layer)
        - IGS地图服务图层(IGSMapImageLayer)
        - 子图层(IGSSublayer)
      -IGS全景图图层(igs-panoramic-layer)
        - IGS全景图图层(IGSPanoramicLayer)
        - IGS全景图节点信息(PanoramicNodeInfo)
      - IGS地图服务矢量图层(IGSVectorLayer)
      - IGS地图服务三维图层(IGSVector3DLayer)
      - 数据流图层(DataFlowLayer)
      - OGCWMTS服务图层(ogc-wmts-layer)
        - OGCWMTS服务图层(OGCWMTSLayer)
        - OGCWMTS服务图层子图层(WMTSSublayer)
        - 瓦片矩阵集(TileMatrixSet)
        - WMTSSublayer的样式信息(WMTSStyle)
        - 发布WMTS的厂商信息(WMTSCorporation)
      - OGCWMS服务图层(ogc-wms-layer)
        - OGCWMS服务图层(OGCWMSLayer)
        - OGCWMS服务图层子图层(WMSSublayer)
      - ArcGIS瓦片服务图层(ArcGISTileLayer)
      - ArcGIS地图服务图层(arcgis-map-image-layer)
        - ArcGIS地图服务图层(ArcGISMapImageLayer)
        - ArcGIS地图服务图层子图层(ArcGISSublayer)
      - 高德墨卡托地图服务图层(amap-layer)
        - 高德墨卡托电子地图图层(AMapMercatorEMapLayer)
        - 高德墨卡托卫星地图图层(AMapMercatorSatelliteMapLayer)
        - 高德墨卡托卫星注记地图图层(AMapMercatorSatelliteAnnMapLayer)
      - 矢量瓦片图层(VectorTileLayer)
      - 三维图层(3d-layer)
        - 三维包围盒(Rectangle3D)
        - 三维点(Point3D)
        - 三维图层抽像类(Layer3D)
      - IGS发布的三维场景服务(igs-scene-layer)
        - IGS发布的三维场景服务(IGSSceneLayer)
        - 三维场景服务图层子图层渲染类型枚举(IGSSceneSublayerRenderType)
        - 三维场景服务图层子图层类型枚举(IGSSceneSublayerType)
        - 三维场景服务对象(Scene)
        - 三维场景服务图层子图层(IGSSceneSublayer)
      - 三维模型缓存图层(model-cache-layer)
        - 三维模型缓存图层(ModelCacheLayer)
        - 三维模型缓存格式(ModelCacheFormat)
      - 要素图层(feature-layer)
        - 高程模式(ElevationMode)
        - 要素表达式信息(FeatureExpressionInfo)
        - 距离单位(LengthUnit)
        - 高程信息类(ElevationInfo)
        - 要素图层(FeatureLayer)
      - IGS矢量要素图层(IGSFeatureLayer)
      - GeoJSON图层(GeoJsonLayer)
      - GraphicsLayer图层(GraphicsLayer)
      - STK地形图层(STKTerrainLayer)
      - 行业标绘图层(PlotLayer)
      - KML图层(KMLLayer)
      - KMZ图层(KMZLayer)
      - CZML图层(CZMLLayer)
      - OSM图层(OSMLayer)
      - OGCWFS(OGCWFSLayer)
  - 结果集设置(result-set)
    - 结果集当前激活页内容(ActiveResultSet)
    - 结果集所有高亮的集合(SelectedResultSet)
  - 数据流(data-flow)
    - 数据流列表(DataFlowList)
  - 应用程序接口(api)
  - 配置信息(config)
    - 应用基础配置(baseConfigInstance)
    - 下载配置(loadConfigs)
  - 数据目录(data-catalog)
    - 数据目录对象实例(dataCatalogManagerInstance)
    - 数据目录对象(DataCatalogManager)
    - 数据目录工具(DataCatalogUtil)
    - 数据目录配置信息(TreeConfig)
    - GeoJSON图层节点实例(LayerNodeToGeoJsonInstance)
    - 要素图层编辑(LayerFeatureEdit)
  - 目录(catalog)
    - 数据源(DataSourceCatalog)
    - 系统库(SystemLibraryCatalog)
    - 文档(DocumentCatalog)
    - 地图文档信息查询参数结构(DocInfoQueryParam)
    - 地图图层信息查询参数结构(LayerInfoQueryParam)
    - 地图文档信息CatalogLayer结构(MapInfoCatalogLayer)
    - 地图文档信息MapInfo结构(DocInfoMapInfo)
    - 地图文档信息结构(DocInfo)
  - 要素(feature)
    - IGS查询结果结构(feature)
      - XY结构(XY)
      - Arc结构(Arc)
      - Ring结构(Ring)
      - PntGeom结构(PntGeom)
      - LinGeom结构(LinGeom)
      - RegGeom结构(RegGeom)
      - FGeom结构(FGeom)
      - SFEleArray结构(FeatureIGSSFEle)
      - AttStruct结构(FeatureIGSAttStruct)
      - IGS查询结果结构(FeatureIGS)
    - GeoJSON结构(feature-geojson)
      - SpatialAttr结构(GMetaInfoGeoSpatialAttr)
      - MetaInfo Geometry结构(GMetaInfoGeometry)
      - MetaInfo结构(GMetaInfo)
      - CRS结构(GeoCRS)
      - Geometry结构(GGeometry)
      - Feature结构(GFeature)
      - GeoJSON结构(FeatureGeoJSON)
      - 获取GeoJSON要素的中心点坐标(getGeoJSONFeatureCenter)
      - 获取一组要素的中心(getGeoJSONFeaturesCenter)
      - 获取GeoJSON的外包矩形(getGeoJSONFeatureBound)
    - 要素转换(feature-convert)
    - 要素查询(feature-query)
      - 要素查询(FeatureQuery)
      - 要素查询参数结构(FeatureQueryParam)
      - 地名地址查询结果要素(GeoCodeFeature)
      - 地名地址查询结果要素集合(ESGeoCodeFeatures)
    - 要素编辑(FeatureEdit)
    - ArcGIS要素查询(arcgis-feature-query)
      - ArcGIS查询参数结构(ArcGISQueryParam)
      - ArcGIS要素查询(ArcGISFeatureQuery)
  - 元数据(metadata)
    - IGS元数据查询(metadata-query)
      - IGS元数据查询MetaDataQuery)
      - 元数据查询参数结构(MetadataQueryParam)
      - 元数据图层列表结构(LayerList)
      - 元数据图层结构(LayerTable)
      - 元数据结构(Metadata)
    - OGC元数据查询(OGCMetadataQuery)
    - ArcGIS元数据查询(ArcGISMetadataQuery)
    - 矢量瓦片元数据查询(VectorTileMetadataQuery)
    - 云管元数据查询(CloudMetaDataQuery)
  - 分析(analysis)
    - 属性统计(AttributeStatistic)
    - 工作流(workflow-analysis)
      - 工作流(WorkflowAnalysis)
      - 工作流执行参数结构(ExecuteWorkflowParam)
      - 工作流执行状态参数结构(WorkflowStatusParam)
  - 展示面板(exhibition)
    - 展示面板(exhibitionListInstance)
    - 展示面板结构(IExhibition)
    - 字段结构(IFields)
    - 属性表查询参数结构(IAttributeTableOption)
    - 属性表展示面板结构(IAttributeTableExhibition)
    - 属性表列表展示面板结构(IAttributeTableListExhibition)
    - 属性表展示面板(AttributeTableExhibition)
    - 属性表列表展示面板(AttributeTableListExhibition)
    - 展示列表(ExhibitionList)
  - 覆盖层(overlay)
    - 场景覆盖层(SceneOverlays)
  - 模型拾取控制器(ModelPickController)
  - 标注图标实例(markerIconInstance)
  - 投放管理对象(ProjectorManager)
  - 左侧内容展示区多微件控制器(MultiChildController)
  - 底图管理控制器(BaseMapController)
  - 工具类(utils)
    - UUID(UUID)
    - 坐标转换(CoordinateTransformation)
    - 自适应范围(FitBound)
    - 请求对象(getRequest)
    - 坐标系转换(ProjectionTransformationUtil)
    - 添加图层(addLayer)
    - 移除图层(removeLayer)
    - 勾选数据目录节点(checkDataCatalogNodes)
    - 取消勾选数据目录节点(uncheckDataCatalogNodes)

- 工具
  - 常规工具(common-util)
  - 字符串工具(string-util)
  - 数组工具(array-util)
  - 对象工具(object-util)
  - 时间工具(time-util)
  - 颜色工具(color-util)
  - DOM工具(dom-util)
  - url工具(url-util)

- 地图组件
  - 地图(map-pro)
    - 地图(mp-web-map-pro)
    - 场景(mp-web-scene-pro)
  - 绘制(draw-pro)
    - 绘制(mp-mp-draw-pro)
    - 3d绘制(mp-3d-draw-pro)
  - 标注(marker-pro)
    - 标注(mp-marker-pro)
    - 标注集(mp-marker-set-pro)
    - 3d标注(mp-3d-marker-pro)
    - 3d标注集(mp-3d-marker-set-pro)
  - 标绘(marker-plotting)
    - 标绘(mp-marker-plotting)
    - 3d标绘(mp-3d-marker-plotting)
  - 属性统计(mp-attribute-statistics)
  - 自定义查询(mp-field-calculator)
  - 过滤器(mp-filter)
  - 属性统计设置(mp-statistics-setting)
  - 属性统计图表(mp-statistics-echarts)
```
