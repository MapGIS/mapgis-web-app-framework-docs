(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{421:function(t,_,s){"use strict";s.r(_);var a=s(18),v=Object(a.a)({},(function(){var t=this,_=t.$createElement,s=t._self._c||_;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"eventbus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eventbus"}},[t._v("#")]),t._v(" eventBus")]),t._v(" "),s("p",[t._v("Vue 事件总线")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("import Vue from 'vue'\n\nexport default new Vue()\n")])])]),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  LayerType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  WidgetMixin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  eventBus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  events\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@mapgis/web-app-framework'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MpBufferAnalysis'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  mixins"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("WidgetMixin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  methods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addNewLayer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XXX")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resultData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XXX")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      eventBus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("events"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD_DATA_EVENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resultData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"内置的事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内置的事件"}},[t._v("#")]),t._v(" 内置的事件")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("事件名称")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("版本")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("SCENE_LOADEN_ON_MAP")]),t._v(" "),s("td",[t._v("监听三维图层是否加载到地图上")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("PLOT_LAYER_LOADED")]),t._v(" "),s("td",[t._v("监听标绘图层是否加载完毕")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("ADD_DATA_EVENT")]),t._v(" "),s("td",[t._v("添加数据")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DELETE_DATA_EVENT")]),t._v(" "),s("td",[t._v("删除数据")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_SELECTION_CHANGE_EVENT")]),t._v(" "),s("td",[t._v("数据选择项改变")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_SELECTION_KEYS_CHANGE_EVENT")]),t._v(" "),s("td",[t._v("数据选择项 keys 改变")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("UPLOAD_LEGEND_SUCCESS_EVENT")]),t._v(" "),s("td",[t._v("上传图例成功")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("ADD_DATA_BOOKMARK_EVENT")]),t._v(" "),s("td",[t._v("添加数据书签")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("ADD_ALL_SELECTED_DATA_BOOKMARK_EVENT")]),t._v(" "),s("td",[t._v("添加所有被选中的数据书签")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("OPEN_DATA_BOOKMARK_EVENT")]),t._v(" "),s("td",[t._v("打开数据书签")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("IMPOSE_SERVICE_PREVIEW_EVENT")]),t._v(" "),s("td",[t._v("服务叠加预览")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_CATALOG_ON_IMPOSE_SERVICE_EVENT")]),t._v(" "),s("td",[t._v("目录树注册了服务叠加事件")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_FLOW_LAYER_UPDATE")]),t._v(" "),s("td",[t._v("监听数据流数据动态数据更新")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_CATALOG_TAB")]),t._v(" "),s("td",[t._v("切换到数据目录 tab 页")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("BOOKMARK_TAB")]),t._v(" "),s("td",[t._v("切换到收藏夹 tab 页")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("MODEL_PICK")]),t._v(" "),s("td",[t._v("模型拾取微件发送消息到图层列表控制模型拾取开关")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_CATALOG_DATA_INFO")]),t._v(" "),s("td",[t._v("数据目录初始化时将数据传出")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_CATALOG_EXTEND_DATA_CHECK")]),t._v(" "),s("td",[t._v("数据目录勾选图层带有 extend 扩展属性时将数据传出")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_CATALOG_EXTEND_DATA_UNCHECK")]),t._v(" "),s("td",[t._v("数据目录取消勾选图层带有 extend 扩展属性时将数据传出")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("EXTEND_LAYER_REMOVE")]),t._v(" "),s("td",[t._v("移除扩展图层")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_CATALOG_CHANGE_NODES")]),t._v(" "),s("td",[t._v("控制数据目录勾选/取消勾选节点")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("IMAGE_OPACITY_FACTOR_CHANGE")]),t._v(" "),s("td",[t._v("修改二维图层透明度系数")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_CATALOG_CHECK_NODES")]),t._v(" "),s("td",[t._v("收藏夹/场景定格查看时勾选数据目录节点")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("DATA_CATALOG_SELECT_NODE")]),t._v(" "),s("td",[t._v("数据目录点击图层节点")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("GET_LAYER_LIST_INFO")]),t._v(" "),s("td",[t._v("收藏夹获取图层列表数据")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("ECHO_LAYER_LIST_INFO")]),t._v(" "),s("td",[t._v("收藏夹回显记录的图层列表数据和状态")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("SCENE_CONFIG_INFO")]),t._v(" "),s("td",[t._v("收藏夹获取场景设置数据")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("MODEL_PICK_ADD")]),t._v(" "),s("td",[t._v("数据目录新增图层通知模型拾取微件")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("ATTRIBUTE_TABLE_CLICK_ROW")]),t._v(" "),s("td",[t._v("结果集表格单击行")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("ATTRIBUTE_TABLE_DOUBLE_CLICK_ROW")]),t._v(" "),s("td",[t._v("结果集表格双击行")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("MARKER_CLICK")]),t._v(" "),s("td",[t._v("标注点击事件")]),t._v(" "),s("td",[t._v("----")])]),t._v(" "),s("tr",[s("td",[t._v("CESIUM_LEFT_CLICK")]),t._v(" "),s("td",[t._v("三维场景点击事件")]),t._v(" "),s("td",[t._v("----")])])])])])}),[],!1,null,null,null);_.default=v.exports}}]);